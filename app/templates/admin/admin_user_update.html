{% extends "admin.html" %}
{%block content%}
<div class="panel-heading">
 Update User
</div>
<div class="container">
  <center>
  <h1 class="form-heading">Update user</h1>
  {% with messages = get_flashed_messages() %}
  {% if messages %}
  <ul class=flashes>
    {% for message in messages %}
    <li><b>{{ message }}!</b></li>
    {% endfor %}
  </ul>
  {% endif %}
  {% endwith %}
  </center>
  <div class="login-form">
    <div class="main-div">
      <div class="panel">
        <form method="POST" action="/updateUser">
         <div class="form-group" >
          <label >User name:</label>
          <input type="text" class="form-control" placeholder="Username" name="name" disabled="true" value="{{user['username']}}" required>
        </div>
        <div class="form-group">
          <label >Password:</label>
          <input type="text" class="form-control" placeholder="Password" name="password" value="{{user['password']}}" required>
        </div>
        <div class="form-group">
          <label >Email:</label>
          <input type="email" class="form-control"  placeholder="Email" name="email" value="{{user['email']}}" required>
        </div>
        <div class="form-group">
          <label >Gender:</label>
          {%if user['gender']=='male'%}
          <input type="radio" name="gender" id="option1" value="male" checked> male </input>
          <input type="radio" name="gender" id="option2" value="female"> female </input><br>
          {%else%}
          <input type="radio" name="gender" id="option1" value="male" > male </input>
          <input type="radio" name="gender" id="option2" value="female" checked> female </input><br>
          {%endif%}
        </div>
        <div class="form-group">
          <label >Birthday:</label>
          <input type="date" class="form-control" name="birthday"  value="{{user['birthday'].strftime('%Y-%m-%d')}}" required>
        </div>
        <div class="form-group">
          <label >Phone:</label>
          <input type="text" class="form-control" placeholder="Phone number" name="phone" value="{{user['phone']}}" pattern="[0-9]{5,15}" title="Phone should only contain number, from 1 t0 15 number" required>
        </div>
        <div class="form-group">
          <label >Role:</label>
          {%if user['role']=='admin'%}
          <input type="radio" name="role" id="option1" value="admin" checked> admin </input>
          <input type="radio" name="role" id="option2" value="user"> user </input><br>
          {%else%}
          <input type="radio" name="role" id="option1" value="admin"> admin </input>
          <input type="radio" name="role" id="option2" value="user" checked> user </input><br>
          {%endif%}
        </div>
        <center>
          <input type="hidden"  name="id" value="{{user['id']}}">
          <input type="hidden" class="form-control" placeholder="Username" name="username" value="{{user['username']}}" required>
          <button type="submit" class="btn btn-primary">Submit</button>
          <a href="/listUser"><button type="button" class="btn btn-danger">Cancel</button></a><br>
        </center>
      </form>
    </div>
  </div>
</div>
{% endblock %}
